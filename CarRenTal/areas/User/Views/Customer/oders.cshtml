@model IEnumerable<CarRenTal.Models.DonHang>

@{
    ViewData["Title"] = "Đơn hàng";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}
@section top
{
    <link href="~/css/usercss.css" rel="stylesheet" />
}

<style>
    body {
        font-family: Arial;
    }

    .phukien {
        margin: -15px;
    }

    .soluong input {
        width: 50px;
        margin: 15px;
    }

    .sanpham p {
        font-size: 30px;
    }

    .form {
        position: relative;
    }

    .chon input {
        position: absolute;
        align-items: center;
        top: 0;
        left: 0;
    }

    .input-group-text h6 {
        padding: 5px 0px 0px 5px;
    }

    .input-group-text {
        background-color: #ffffff;
        border: none;
        padding: 0px;
    }

    #gia {
        font-size: 22px;
        line-height: 28px;
        color: #f57224;
        font-weight: 500;
        margin-bottom: 4px;
    }

    #mota {
        display: block;
        width: 100%;
        max-height: 32px;
        overflow: hidden;
        text-overflow: ellipsis;
        padding-left: 20px;
        font-size: 14px;
        color: #212121;
        line-height: 16px;
    }

    #mota2 {
        font-size: 12px;
        color: #757575;
        padding-left: 20px
    }

    #thongbao {
        font-size: 12px;
        color: rgb(255, 51, 12);
        margin-bottom: 4px;
        padding-left: 8px
    }

    #capsule {
        font-size: 12px;
        padding: 4px 12px;
        display: inline-block;
        border-radius: 24px;
        background-color: #eff0f5;
        max-width: 150px;
    }
</style>


<div class="container" style="    margin-bottom: 100px;">

    <div class="row align-items single-model item">

        <div class="col-XL-2 model-left" style="padding-top:120px">
            <p style="font-size:14px;font-family:Roboto-Regular; color:#424242">xin chào, @CarRenTal.DAO.Common.CommonConstants.UserName</p>
            <ul class="nav-container">
                <li class="item" id="My-Orders">
                    <ul class="nav-container">
                        <li class="item" id="Manage-My-Account">
                            <a class="" href="#" data-spm="Manage-My-Account"><span>Quản lý tài khoản</span></a>
                            <ul class="item-container">
                                <li id="My-profile" class="sub "><a href="#" style="">Thông tin cá nhân</a></li>
                                <li id="Address-book" class="sub"><a href="#" data-spm="Address-book">Sổ địa chỉ</a></li>
                                <li id="Payment-methods" class="sub"><a href="#" data-spm="Payment-methods">Tùy chọn thanh toán</a></li>
                                <li id="Vouchers" class="sub"><a href="#" data-spm="Vouchers">Mã giảm giá</a></li>
                            </ul>
                            <br />
                        </li>

                        <li class="item" id="My-Orders">
                            <a class="sub sub-active" style="color:#1a9cb7;" href="#"><span>Đơn hàng của tôi</span></a>
                            <ul class="item-container">
                                <li id="Returns" class="sub"><a href="#" data-spm="Returns">Đơn hàng đổi trả</a></li>
                                <li id="Cancellations" class="sub"><a href="#" data-spm="Cancellations">Đơn hàng hủy</a></li>
                            </ul>
                            <br />

                        </li>
                        <li class="item" id="Sell-On-Lazada">
                            <a href="#" data-spm="Sell-On-Lazada"><span>Cho thuê xe</span></a>
                            <ul class="item-container"></ul>
                        </li>
                    </ul>

            </ul>
        </div>
        <div class="col-xl-10 model-right" style="padding-top:100px;padding-bottom:40px ">
            <a class="breadcrumb">Đơn hàng của tôi</a>

            @foreach (var item in Model)
            {
                <div class="card o-hidden border-0 shadow-lg col-lg-12 my-4">
                    <div class="card-body">
                        <!-- Nested Row within Card Body -->

                        <div class="container">
                            <div class="phukien row">
                                <div class="input-group-prepend">
                                    <div class="">
                                        <p style="font-size:14px;color: #212121;margin-right:8px; margin-bottom: -4px !important;padding-top: 1px">Đơn hàng #@item.Id</p>
                                        <p style="font-size:11px ; padding-top:0px !important;color:#757575; margin-bottom:0.5rem;">ngày thuê : @item.TuNgay  Đến ngày : @item.DenNgay</p>

                                    </div>

                                </div>

                                <div class="col-12">
                                    <a href="/User/Customer/Details?id=@item.Id" style="    text-decoration: none;">
                                        <p style="float:right ;color: rgb(26, 156, 183); font-size:14px;padding-top:3px">QUẢN LÝ</p>
                                    </a>
                                </div>

                            </div>

                            <hr />

                            <div class="col-lg-11">
                                <div class="form row">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">
                                        </div>
                                    </div>
                                    <div class="sanpham d-flex col-8">
                                        <a href="/User/Customer/Details?id=@item.Id" style="    text-decoration: none;">
                                            <img src="@item.MaXeNavigation.Hinh" alt="" width="80" height="80">
                                        </a>
                                        <div>
                                            <a href="/User/Customer/Details?id=@item.Id" style="    text-decoration: none;">
                                                <p id="mota" style="margin:5px;padding-left:18px">Xe @item.MaXeNavigation.Tenxe</p>
                                                <p id="mota2">@item.MaXeNavigation.Mota</p>
                                            </a>

                                            <p id="thongbao"></p>
                                        </div>

                                    </div>

                                    <div class="gia col-4" style=" padding:15px;text-align:left; padding-left:100px">
                                        @if (item.Huy == true)
                                        {
                                            <p id="capsule">Đã huỷ đơn hàng</p>

                                        }
                                        else
                              if (item.Status == true)
                                        {
                                            if (DateTime.Now > item.DenNgay)
                                            {
                                                <p id="capsule">Đã hoàn thành</p>

                                            }
                                            else
                                    if (DateTime.Now >= item.TuNgay && DateTime.Now <= item.DenNgay)
                                            {
                                                <p id="capsule">
                                                    đơn hàng đang tiến hành
                                                </p>
                                            }
                                            else
                                    if (DateTime.Now <= item.DenNgay && DateTime.Now >= item.TuNgay)
                                            {
                                                <p id="capsule">Đang tiến hành</p>

                                            }
                                            else
                                            {
                                                <p id="capsule">Sắp tiến hành</p>
                                            }
                                        }
                                        else
                                        {
                                            if (DateTime.Now >= item.TuNgay)
                                            {
                                                <p id="capsule">Yêu cầu hết hạn</p>
                                            }
                                        }
                                    </div>

                                </div>
                                <br />

                            </div>
                        </div>

                    </div>

                </div>
            }
        </div>
    </div>

</div>













